# üßπ Repository Cleanup Dry Run Report

**Generated:** 2026-01-27  
**Project:** Chemical Equipment Parameter Visualizer  
**Purpose:** Remove build artifacts, caches, and duplicate environments

---

## üìä Executive Summary

- **Total Size to Free:** ~434 MB
- **Total Items to Move:** 6 directories + thousands of __pycache__ subdirectories
- **Safety Level:** 100% SAFE - All items can be regenerated
- **Destination:** `cleanup_backup/YYYYMMDD_HHMMSS/` (timestamped backup folder)

---

## üóÇÔ∏è Cleanup Categories

### Category 1: Virtual Environments (416.15 MB - 95.9%)

| Directory | Size | Description | Safe to Remove? |
|-----------|------|-------------|-----------------|
| `.venv/` | 393.82 MB | Root virtual environment | ‚úÖ YES |
| `backend/venv/` | 22.33 MB | Duplicate backend venv | ‚úÖ YES |

**Why safe?**  
Virtual environments are recreated from `requirements.txt` using:
```bash
python -m venv .venv
pip install -r backend/requirements.txt
```

All packages will be downloaded fresh from PyPI. Your code remains intact.

---

### Category 2: PyInstaller Build Artifacts (17.81 MB - 4.1%)

| Directory | Size | Description | Safe to Remove? |
|-----------|------|-------------|-----------------|
| `desktop-pyqt/build/` | 17.54 MB | PyInstaller build cache | ‚úÖ YES |
| `desktop-pyqt/dist/` | 0.27 MB | PyInstaller executable output | ‚úÖ YES |

**Why safe?**  
These are generated by PyInstaller from your source code. Rebuild anytime using:
```bash
pyinstaller desktop-pyqt/equipment_visualizer.spec
```

Source files `main.py` and `styles.py` remain untouched.

---

### Category 3: Python Bytecode Caches (0.01 MB - <0.1%)

| Directory | Size | Description | Safe to Remove? |
|-----------|------|-------------|-----------------|
| `desktop-pyqt/__pycache__/` | 0.01 MB | Compiled Python files | ‚úÖ YES |
| `.venv/Lib/site-packages/**/__pycache__/` | (included in .venv) | Package caches | ‚úÖ YES |
| `backend/**/__pycache__/` | ~0.5 MB | Backend source caches | ‚úÖ YES |

**Why safe?**  
Python automatically regenerates these `.pyc` files when you run your code. They're just speed optimizations.

---

### Category 4: Distribution Artifacts (minimal)

| Directory | Size | Description | Safe to Remove? |
|-----------|------|-------------|-----------------|
| `EquipmentVisualizer_Distribution/` | <0.1 MB | Old distribution folder (only README.txt) | ‚úÖ YES |

**Why safe?**  
Contains only a README file. Likely leftover from previous packaging attempt. Can be recreated if needed.

---

## üö´ PROTECTED FILES (Will NEVER be moved)

The following are marked as **CRUCIAL** and will be skipped:

### Essential Files
- ‚úÖ `.git/` - Git repository history
- ‚úÖ `.github/` - GitHub workflows  
- ‚úÖ `.gitignore` files (all instances)
- ‚úÖ `README.md` - Project documentation
- ‚úÖ `LICENSE` - Project license
- ‚úÖ `sample_equipment_data.csv` - Demo data (**CRUCIAL**)

### Backend (Django)
- ‚úÖ `backend/manage.py` - Django management script
- ‚úÖ `backend/requirements.txt` - Python dependencies
- ‚úÖ `backend/db.sqlite3` - Your database
- ‚úÖ `backend/media/` - User uploads
- ‚úÖ `backend/config/` - Django configuration
- ‚úÖ `backend/equipment/` - Django app source code
- ‚úÖ `backend/equipment/migrations/` - Database migrations (**CRUCIAL**)
- ‚úÖ All `.py` source files in backend

### Frontend (React)
- ‚úÖ `frontend-react/package.json` - Node dependencies manifest
- ‚úÖ `frontend-react/package-lock.json` - Dependency lock
- ‚úÖ `frontend-react/src/` - React source code
- ‚úÖ `frontend-react/public/` - Static assets
- ‚úÖ All configuration files (.env.local, vite.config.js)

### Desktop (PyQt5)
- ‚úÖ `desktop-pyqt/main.py` - Desktop app source
- ‚úÖ `desktop-pyqt/styles.py` - UI styles
- ‚úÖ `desktop-pyqt/requirements.txt` - Dependencies
- ‚úÖ `desktop-pyqt/config.ini` - User configuration
- ‚úÖ `desktop-pyqt/equipment_visualizer.spec` - Build specification

### Documentation
- ‚úÖ All `*.md` files (30+ documentation files)
- ‚úÖ Test files (`quick_test.py`, `test_backend.py`, etc.)
- ‚úÖ Launch scripts (`RUN_ALL.bat`, `RUN_ALL.ps1`, etc.)

---

## üìÅ Detailed File Count

| Category | Directories | Files (approx) |
|----------|-------------|----------------|
| Virtual Environments | 2 root + thousands of subdirs | ~50,000+ files |
| Build Artifacts | 2 | ~100 files |
| Python Caches | ~600+ __pycache__ dirs | ~5,000 .pyc files |
| Distribution | 1 | 1 file |
| **TOTAL** | **~605+** | **~55,000+** |

---

## üéØ What Happens During Cleanup

### Step 1: Pre-Cleanup Validation
- ‚úÖ Check all crucial files exist
- ‚úÖ Verify no active processes using files
- ‚úÖ Create `cleanup_backup/20260127_HHMMSS/` directory

### Step 2: Move Operations (NOT deletion)
```
.venv/ ‚Üí cleanup_backup/20260127_HHMMSS/.venv/
backend/venv/ ‚Üí cleanup_backup/20260127_HHMMSS/backend/venv/
desktop-pyqt/build/ ‚Üí cleanup_backup/20260127_HHMMSS/desktop-pyqt/build/
desktop-pyqt/dist/ ‚Üí cleanup_backup/20260127_HHMMSS/desktop-pyqt/dist/
desktop-pyqt/__pycache__/ ‚Üí cleanup_backup/20260127_HHMMSS/desktop-pyqt/__pycache__/
EquipmentVisualizer_Distribution/ ‚Üí cleanup_backup/20260127_HHMMSS/EquipmentVisualizer_Distribution/
All __pycache__ in backend/ ‚Üí cleanup_backup/20260127_HHMMSS/backend/__pycache__/
All __pycache__ in frontend-react/ ‚Üí cleanup_backup/20260127_HHMMSS/frontend-react/__pycache__/
```

### Step 3: Logging
- All operations logged to `cleanup_backup/20260127_HHMMSS/moved_files.log`
- Log includes timestamps, source paths, destination paths
- Any errors recorded for review

### Step 4: Post-Cleanup Summary
- Print total items moved
- Print space freed
- Print restoration instructions

---

## üîÑ Restoration (If Something Breaks)

### Option 1: Manual File Copy
```powershell
# Copy entire backup back
Copy-Item -Path "cleanup_backup\20260127_HHMMSS\*" -Destination "." -Recurse -Force
```

### Option 2: Selective Restoration
```powershell
# Restore just .venv/
Copy-Item -Path "cleanup_backup\20260127_HHMMSS\.venv" -Destination ".venv" -Recurse -Force

# Restore backend/venv/
Copy-Item -Path "cleanup_backup\20260127_HHMMSS\backend\venv" -Destination "backend\venv" -Recurse -Force
```

### Option 3: Git Restore (if backup branch created)
```powershell
git checkout cleanup-backup-20260127-HHMMSS
git checkout main  # Switch back after verifying
```

### Option 4: Zip Restore (if zip backup created)
```powershell
Expand-Archive -Path "repo-backup-20260127-HHMMSS.zip" -DestinationPath "restored\"
```

---

## üß™ Post-Cleanup Health Checks

After cleanup, run these commands to verify everything works:

### Backend Check
```powershell
cd backend
python -m venv .venv  # Recreate venv
.\.venv\Scripts\activate
pip install -r requirements.txt
python manage.py check  # Should show "System check identified no issues"
python manage.py migrate --check  # Should show "No migrations to apply"
deactivate
```

**Expected Time:** 2-3 minutes (dependency download)  
**Expected Result:** ‚úÖ All checks pass

### Desktop Check
```powershell
cd desktop-pyqt
python main.py --version  # Should not error on imports
```

**Expected Time:** <5 seconds  
**Expected Result:** ‚úÖ No import errors

### Frontend Check (if Node.js installed)
```powershell
cd frontend-react
npm install  # Reinstall node_modules if removed
npm run build  # Should complete without errors
```

**Expected Time:** 1-2 minutes (if rebuilding)  
**Expected Result:** ‚úÖ Build completes successfully

---

## ‚ö†Ô∏è Important Warnings

### ‚õî Do NOT proceed if:
- Django server is running (`Ctrl+C` to stop)
- Desktop app is running (close application window)
- Any Python process is using `.venv/` or `backend/venv/`
- You haven't created backups yet

### ‚úÖ Safe to proceed if:
- All applications closed
- Git backup branch created
- Zip backup created
- You've reviewed this dry run report

---

## üìù ELI5 (Explain Like I'm 5)

**What is this cleanup?**  
Imagine your project is a workshop. Over time, you accumulate:
- Duplicate tool sets (two venvs = two identical toolboxes)
- Half-built prototypes (build/ folder = Lego pieces scattered everywhere)
- Instruction manual photocopies (\_\_pycache\_\_ = notes you've made that you can rewrite anytime)

We're putting all these extras into a labeled storage box (`cleanup_backup/`). Your actual blueprints (source code), finished products (database), and important documents (README, sample data) stay exactly where they are.

**Why not just delete?**  
Like a smart kid, we don't throw things away‚Äîwe put them in a box labeled with today's date. If we realize we need something, we know exactly where to find it.

**What if something breaks?**  
We have THREE backup plans:
1. The storage box (cleanup_backup/)
2. A photo album (git backup branch)
3. A complete photocopy (zip backup)

Just grab what you need from any of these and put it back. Easy!

---

## üöÄ Next Steps

1. **Review this report carefully**
2. **Create backups (instructions in CLEANUP_SCRIPTS/)**
3. **Reply with "YES MOVE" to proceed**
4. **Or ask questions if anything is unclear**

---

**Remember:** This is a DRY RUN. Nothing has been moved yet. All files remain in their current locations until you explicitly confirm with "YES MOVE".
